for tc in range(int(input())):
    n, k = [int(x) for x in input().split()]
    
    ans = 0
    
    while k <= n:
        ans += (n + 1) * n // 2
        
        n = n // k
        
        ans -= k * (n + 1) * n // 2
    
    ans += (n + 1) * n // 2
    print(ans)
    

# 1 2 3 4 1 6 7 8 9 2 11 12 13 14 3 16 17 18 19 4 21 22 23 24 1 26 27 28 29 6

#         1         2             3             4             1             6
#  <-------------------------------------------------------------------------
# 1 2 3 4 1 6
        
        
        